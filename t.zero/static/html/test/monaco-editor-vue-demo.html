<!DOCTYPE html>
<html>

<head>
    <title>Test Platform - Monaco Editor Vue Demo</title>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">

    <link rel="stylesheet" href="../../css/textarea.css">
    <link rel="stylesheet" data-name="vs/editor/editor.main"
          href="../../monaco-editor/node_modules/monaco-editor/min/vs/editor/editor.main.css">

    <!-- production version, optimized for size and speed -->
    <script src="../../js/common/vue2.js"></script>
    <script src="../../js/common/axios.min.js"></script>
    <script src="../../js/common/httpVueLoader.js"></script>
    <script src="../../js/util/FileUtils.js"></script>
    <script src="../../js/util/RequestUtils.js"></script>
    <script src="../../js/util/DocumentUtils.js"></script>
    <script src="../../js/util/StringUtils.js"></script>
    <script src="../../js/common/lodash4.13.1.min.js"></script>
    <script src="../../js/util/JsonUtils.js"></script>
    <script src="../../js/util/ObjectUtils.js"></script>
    <script src="../../js/AdTypes.js"></script>

</head>

<body>
<script>var require = {paths: {'vs': '../../monaco-editor/node_modules/monaco-editor/min/vs'}};</script>
<script src="../../monaco-editor/node_modules/monaco-editor/min/vs/loader.js"></script>
<script src="../../monaco-editor/node_modules/monaco-editor/min/vs/editor/editor.main.nls.js"></script>
<script src="../../monaco-editor/node_modules/monaco-editor/min/vs/editor/editor.main.js"></script>

<div id="app">
    <h1>Javascript:</h1>
    <monaco-editor></monaco-editor>
    <h1>Sql:</h1>
    <label>Table Proto:</label>
    <json-form v-bind="columnMapProto" v-model="columnMap" start-element="&nbsp;&nbsp;&nbsp;&nbsp;" end-element="<br/>"
               ref="columnMap"></json-form>
    <sql-monaco-editor :column-map="columnMap"></sql-monaco-editor>
</div>


<script>
    let columnMapProto = {
        type: 'MapType',
        keyType: 'StringType',
        elementType: {
            type: 'MapType',
            keyType: 'StringType',
            elementType: {
                type: 'ObjectType',
                typeMap: {
                    label: {
                        type: 'StringType'
                    }
                }
            }
        }
    }
    var editor
    var app = new Vue({
        el: '#app',
        components: {
            'monaco-editor': httpVueLoader('../../vue/common/MonacoEditor.vue'),
            'sql-monaco-editor': httpVueLoader('../../vue/common/SqlMonacoEditor.vue'),
            'json-form': httpVueLoader('../../vue/common/JsonForm.vue')
        },
        data: {
            columnMap: {
                "t_ad_info": {
                    "id": {
                        "label": "id"
                    },
                    "name": {
                        "label": "name"
                    },
                    "create_on": {
                        "label": "create_on"
                    }
                }
            }
        },
        methods: {},
        mounted() {

        }
    })

</script>
</body>
</html>
